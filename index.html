<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Anoma Rank Checker</title>
  <link rel="stylesheet" href="/style.css" />
  <meta name="description" content="Public Anoma rank checker — search your Twitter handle and see your rank." />
</head>
<body>
  <header class="header">
    <h1>🏆 Anoma Rank Checker</h1>
    <p class="sub">Type your Twitter handle and see your rank. Data from JSON or a Google Sheet.</p>

    <div class="controls">
      <input id="query" type="text" placeholder="Search handle (e.g. @Alwin)" />
      <button id="searchBtn">Search</button>

      <select id="days">
        <option value="1">Last 24h</option>
        <option value="3" selected>Last 3 days</option>
        <option value="7">Last 7 days</option>
        <option value="30">Last 30 days</option>
      </select>

      <button id="refreshBtn">Refresh</button>
    </div>

    <p class="note">
      Score = <code>likes + 2×retweets + replies + quotes</code>.  
      <span id="sourceTag">Source: <code>data/anoma.json</code></span>
    </p>
  </header>

  <main class="container">
    <div class="summary">
      <div><strong id="totalUsers">0</strong><span>Users</span></div>
      <div><strong id="totalPosts">0</strong><span>Posts</span></div>
      <div><strong id="lastUpdated">—</strong><span>Last Updated</span></div>
    </div>

    <table id="leaderboard">
      <thead>
        <tr>
          <th>#</th>
          <th>User</th>
          <th>Posts</th>
          <th>Likes</th>
          <th>RT</th>
          <th>Replies</th>
          <th>Quotes</th>
          <th>Score</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div id="status" class="status"></div>

    <section class="howto">
      <h2>How to update data (no API)</h2>
      <ol>
        <li><strong>JSON way:</strong> Edit <code>data/anoma.json</code> in GitHub → Commit → Vercel auto-deploy.</li>
        <li><strong>Google Sheet way:</strong> Make a sheet with columns: <code>handle,posts,likes,retweets,replies,quotes,updated_at</code>. Publish to web as CSV and open site like:<br />
          <code>https://your-site.vercel.app/?sheet=YOUR_SHEET_ID</code>
        </li>
      </ol>
      <p class="tip">Tip: Keep <code>handle</code> like <code>@username</code>. Dates in <code>updated_at</code> are optional (ISO or any text).</p>
    </section>
  </main>

  <footer class="footer">
    <p>Made for Anoma Yappers 🚀</p>
  </footer>

  <script src="/script.js"></script>
</body>
</html>
